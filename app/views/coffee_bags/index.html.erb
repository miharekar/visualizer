<% content_for(:html_title) { "Visualizer | #{@roaster.name} Coffee Bags" } %>
<div class="flex flex-col px-4 mx-auto my-6 gap-y-6 max-w-7xl sm:px-6 lg:px-8">
  <div class="flex flex-row justify-between gap-2">
    <div>
      <h1 class="pr-2 font-serif lining-nums text-4xl font-bold tracking-tight text-neutral-900 dark:text-neutral-100">
        <%= @roaster.name %> Coffee Bags
      </h1>
    </div>
    <div class="flex gap-2">
      <%= link_to edit_roaster_path(@roaster.id), class: "button-white flex sm:ml-auto" do %>
        <svg class="sm:-ml-1 size-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
          <path fill-rule="evenodd" d="M11.013 2.513a1.75 1.75 0 0 1 2.475 2.474L6.226 12.25a2.751 2.751 0 0 1-.892.596l-2.047.848a.75.75 0 0 1-.98-.98l.848-2.047a2.75 2.75 0 0 1 .596-.892l7.262-7.261Z" clip-rule="evenodd" />
        </svg>
        <span class="hidden sm:block text-nowrap ml-1">Edit Roaster</span>
      <% end %>
      <%= link_to new_roaster_coffee_bag_path, class: "button-white flex sm:ml-auto" do %>
        <svg class="sm:-ml-1 size-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" >
          <path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z" />
        </svg>
        <span class="hidden sm:block text-nowrap ml-1">New Coffee Bag</span>
      <% end %>
    </div>
  </div>
  <% if @coffee_bags.any? %>
    <div>
      <%= form_with(url: search_roaster_coffee_bags_path, data: {controller: "search", search_target: "form"}) do |f| %>
        <div class="grid grid-cols-12 gap-3">
          <div class="col-span-6 md:col-span-3">
            <%= f.label :coffee, class: "standard-label" %>
            <%= f.search_field :coffee, value: params[:coffee], class: "mt-1 standard-input", data: {action: "search#submit"} %>
          </div>
        </div>
      <% end %>
    </div>
    <div data-controller="modal">
      <%= render "shared/modal" %>
      <div id="coffee-bags"  class="max-w-2xl mx-auto grid grid-cols-1 gap-8 sm:mx-0 sm:max-w-none md:grid-cols-2 lg:grid-cols-3">
        <%= render @coffee_bags %>
      </div>
    </div>
  <% else %>
    <div class="pt-12 text-center text-neutral-500">
      No coffee bags yet ðŸ˜¢
      <div class="mt-4">
        <%= link_to new_roaster_coffee_bag_path, class: "button-white inline-flex" do %>
          <svg class="-ml-1.5 size-5" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10.75 6.75a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z" />
          </svg>
          Add your first Coffee Bag
        <% end %>
      </div>
    </div>
  <% end %>
</div>
